---
name: 运镜优化
description: 为小说分镜提供专业的运镜建议和优化方案。分析场景的情感节奏、叙事重点和视觉冲击力,优化 composition 字段中的运镜设置。适用于小说分镜设计、漫画分镜、动画制作、视频拍摄等场景。
---

# 运镜优化技能

此技能为小说分镜提供专业的运镜建议和优化方案。主要优化 `composition` 字段,包括 `camera_position`(镜头位置)、`camera_movement`(镜头运动)、`framing`(构图)和 `focus_type`(焦点类型)。

## 何时使用此技能

**触发条件:**
- 用户提到"运镜"、"镜头语言"、"画面构图"
- 用户需要优化分镜的 composition 字段
- 用户想要增强场景的情感表达或视觉冲击力
- 用户在设计小说、漫画、动画的视频分镜

**此技能的功能:**
- 分析场景的情感基调和叙事重点
- 优化 camera_position(镜头位置描述)
- 优化 camera_movement(镜头运动方式)
- 优化 framing(画面构图方式)
- 优化 focus_type(焦点和景深控制)
- 提供多个备选方案和优化理由

## 输入格式

接受完整的分镜 JSON 对象或单个镜头信息。提取以下关键元素:

**必需字段:**
- `shot_id`: 镜头编号
- `shot_type`: 镜头类型(特写、近景、中景、全景、远景等)
- `location`: 场景位置

**从其他字段提取:**
- `characters[].action`: 人物动作(理解场景动态)
- `characters[].expression`: 人物表情(理解情感基调)
- `visual_effects.environment`: 环境描述(理解视觉元素)
- `visual_effects.lighting`: 光照描述(理解氛围)
- `editing.purpose`: 剪辑目的(理解叙事目标)
- `editing.pacing`: 节奏(理解速度感)

输入示例(基于 storyboard-chapter-01.json):
```json
{
  "shot_id": "EP01-S001",
  "shot_type": "特写",
  "location": "青云宗外门弟子房",
  "characters": [
    {
      "name": "顾玄",
      "action": "缓缓睁眼,眼神迷茫,然后猛地坐起",
      "expression": "困惑 → 震惊"
    }
  ],
  "visual_effects": {
    "environment": "窗外云雾缭绕,远处青山如黛,晨光微亮",
    "lighting": "自然光从窗户斜射,柔和昏暗"
  },
  "editing": {
    "purpose": "建立开场场景,展现主角困惑",
    "pacing": "舒缓"
  },
  "composition": {
    "camera_position": "床榻正上方,俯视",
    "camera_movement": "缓慢拉远",
    "framing": "中心构图",
    "focus_type": "主体清晰,周围环境逐渐入画"
  }
}
```

## 输出格式

输出优化后的 `composition` 对象,包含详细的优化建议:

```json
{
  "optimized_composition": {
    "camera_position": "优化后的镜头位置描述",
    "camera_movement": "优化后的镜头运动描述",
    "framing": "优化后的构图方式",
    "focus_type": "优化后的焦点和景深描述"
  },
  "optimization_analysis": {
    "emotion_tone": "情感基调分析",
    "narrative_focus": "叙事重点",
    "why_this_works": "优化理由说明"
  },
  "enhancement_tips": [
    "增强建议1",
    "增强建议2"
  ],
  "alternative_options": [
    {
      "name": "方案名称",
      "composition": { /* 备选 composition */ },
      "effect": "效果说明",
      "when_to_use": "适用场景"
    }
  ]
}
```

## composition 字段优化指南

### camera_position (镜头位置)

**优化要点:**
- 明确具体的拍摄位置(相对于主体)
- 指定拍摄角度(俯视、仰视、平视、侧视等)
- 考虑与主体的距离关系
- 描述与场景环境的相对位置

**常用位置描述模板:**

| 场景类型 | camera_position 示例 | 适用情感 |
|---------|---------------------|----------|
| 开场/建立场景 | "从房间角落斜拍,展现整个空间" | 陌生感、探索 |
| 人物特写 | "正面拍摄,镜头与视线齐平" | 亲切、真实 |
| 压迫感 | "从上往下俯拍,镜头在人物上方45度角" | 弱势、被动 |
| 力量感 | "从下往上仰拍,镜头在人物腰部高度" | 威严、强大 |
| 主观视角 | "主观视角,从人物眼睛位置拍摄" | 沉浸、代入 |
| 环境展示 | "从窗外向内拍摄,透过窗框" | 窥视、框架 |
| 动态跟随 | "侧后方跟随,保持人物在画面三分之一处" | 陪伴、旅程 |

**优化示例:**
- 原始: "床榻正上方,俯视"
- 优化: "床榻正上方垂直俯拍,距离人物面部约1.5米,逐渐倾斜至45度角"

### camera_movement (镜头运动)

**优化要点:**
- 明确运动方式(推、拉、摇、移、跟、升、降、环绕等)
- 指定运动速度(缓慢、匀速、快速、急速)
- 描述运动轨迹和节奏
- 考虑运动与情感的匹配

**常用运动描述模板:**

| 运动类型 | camera_movement 示例 | 适用情感/场景 |
|---------|---------------------|---------------|
| 缓慢推近 | "缓慢向前推近,从全身推至面部特写,用时6秒" | 情感加深、专注 |
| 缓慢拉远 | "缓慢向后拉远,从面部拉至全景,展现环境,用时8秒" | 孤独、释然 |
| 快速推近 | "急速推近至人物眼部,强调震惊,用时1秒" | 震惊、觉醒 |
| 跟随运动 | "水平跟随人物移动,保持相对位置不变" | 陪伴、旅程 |
| 环绕拍摄 | "围绕人物缓慢环形移动360度,用时10秒" | 多维度、戏剧性 |
| 晃动效果 | "轻微不规则晃动,模拟手持拍摄感" | 紧张、真实 |
| 固定镜头 | "完全固定,无任何运动" | 稳定、客观 |
| 复合运动 | "边推近边缓慢上升,从平视过渡到俯视" | 情感升级+释然 |

**优化示例:**
- 原始: "缓慢拉远"
- 优化: "从面部特写缓慢拉远至中景,用时5秒,同时镜头微微上升10度,从平视过渡到轻微俯视"

### framing (构图方式)

**优化要点:**
- 指定构图原则(中心构图、三分法、框架构图等)
- 描述主体在画面中的位置
- 考虑前景、中景、背景的关系
- 平衡画面元素和留白

**常用构图描述模板:**

| 构图类型 | framing 示例 | 适用场景 |
|---------|-------------|----------|
| 中心构图 | "主体居中,对称构图,强调重要性" | 权威、正式 |
| 三分法 | "主体位于画面左侧三分之一处,留出右侧空间" | 自然、平衡 |
| 框架构图 | "利用窗框、门框形成自然框架,主体在框架内" | 窥视、聚焦 |
| 留白构图 | "主体占据画面三分之一,大量留白体现孤独" | 孤独、沉思 |
| 引导线 | "利用道路、墙壁线条引导视线至主体" | 深度、流动 |
| 三人构图 | "三人呈三角形排列,平衡画面重心" | 多人对话 |
| 动态构图 | "主体沿对角线运动,创造动势" | 动作、运动 |

**优化示例:**
- 原始: "中心构图"
- 优化: "中心构图,人物位于画面正中央,利用窗户光线形成自然光环,四周暗角突出主体"

### focus_type (焦点和景深)

**优化要点:**
- 明确焦点位置(主体、局部、背景等)
- 描述景深效果(浅景深、深景深、变焦等)
- 指定焦点变化(从A到B、前景清晰背景虚化等)
- 考虑焦点变化与叙事的关系

**常用焦点描述模板:**

| 焦点类型 | focus_type 示例 | 适用场景 |
|---------|----------------|----------|
| 主体清晰 | "主体清晰锐利,背景轻微虚化(f/2.8)" | 突出主体 |
| 局部特写 | "焦点在人物眼部,其他部位柔焦虚化" | 情感细节 |
| 全景清晰 | "全景深,前后景都清晰(f/8)" | 环境展示 |
| 焦点转移 | "从前景物体缓慢转移焦点至背景人物" | 揭示、发现 |
| 逐渐清晰 | "从模糊逐渐变清晰,模拟睁眼效果" | 苏醒、觉醒 |
| 选择聚焦 | "多人物场景,焦点在主要说话人" | 对话 |
| 全虚化 | "全部虚化,只保留轮廓和色彩" | 梦境、回忆 |

**优化示例:**
- 原始: "主体清晰,周围环境逐渐入画"
- 优化: "初始焦点在人物面部,浅景深背景虚化;随着镜头拉远,景深逐渐加深,环境细节逐渐清晰"

## 情感与运镜映射

### 困惑→觉醒 (EP01-S001 类型)
```json
{
  "camera_position": "从床榻正上方45度角俯拍,初始距离面部80cm",
  "camera_movement": "缓慢拉远同时上升,从特写拉至中景,用时8秒,角度从45度俯视过渡到30度俯视",
  "framing": "中心构图,人物从占据画面80%逐渐缩小至40%,四周环境逐渐入画,利用窗框形成自然框架",
  "focus_type": "初始浅景深聚焦面部(背景虚化),随着拉远景深逐渐加深,环境细节逐渐清晰"
}
```

### 震惊→喜剧 (EP01-S007 类型)
```json
{
  "camera_position": "从高空开始,垂直俯视广场中央",
  "camera_movement": "急速俯冲至人物落地位置,用时3秒,然后突然停止形成对比",
  "framing": "从广角全景急速收缩至单人中景,利用速度感制造冲击,落地后构图稳定",
  "focus_type": "俯冲时全景深清晰,落地后焦点集中在人物尴尬表情,背景虚化"
}
```

### 威严→压迫 (EP01-S011 类型)
```json
{
  "camera_position": "正面平视拍摄,镜头高度与人物胸部齐平",
  "camera_movement": "极缓慢推近,从胸部以上推至面部特写,用时6秒,配合轻微环绕(15度)",
  "framing": "中心构图,人物逐渐占据画面从50%增至80%,利用仰视角度增强威严感",
  "focus_type": "深景深保持环境清晰,随着推近焦点逐渐集中在眼神,背景逐渐虚化"
}
```

### 紧张对峙 (EP01-S012 类型)
```json
{
  "camera_position": "快速环绕拍摄,高度与人物腰部齐平,半径3米",
  "camera_movement": "快速360度环绕,用时4秒,配合急速推拉增强动态",
  "framing": "动态构图,主体始终在画面中心,背景快速流动形成速度感",
  "focus_type": "主体和特效清晰锐利,背景动态模糊,强调战斗张力"
}
```

### 释然→悠远 (EP01-S020 类型)
```json
{
  "camera_position": "从室内窗外开始,逐渐后退至室外远处",
  "camera_movement": "缓慢连续拉远,从室内中景拉至远景,用时8秒,无停顿",
  "framing": "从框架构图(窗框)过渡到开放构图,人物从清晰到微小,大量留白体现悠远",
  "focus_type": "初始聚焦人物,随着拉远焦点逐渐转移到整体环境,最终呈现全景深"
}
```

## 优化建议生成流程

1. **分析场景**
   - 从 `editing.purpose` 提取叙事目标
   - 从 `characters[].action` 和 `expression` 提取情感节奏
   - 从 `shot_type` 确定基础景别
   - 从 `visual_effects` 提取视觉元素

2. **优化 camera_position**
   - 确定拍摄位置(相对于主体和场景)
   - 选择拍摄角度(俯视/仰视/平视/侧视)
   - 考虑与环境的相对关系
   - 添加具体距离和角度参数

3. **优化 camera_movement**
   - 选择运动方式(推/拉/摇/移/跟/环绕等)
   - 确定运动速度和节奏(匹配 `editing.pacing`)
   - 描述运动轨迹和时长
   - 考虑运动与情感的匹配

4. **优化 framing**
   - 选择构图原则(中心/三分法/框架/留白等)
   - 确定主体位置和占比
   - 考虑前景中景背景关系
   - 添加细节增强描述

5. **优化 focus_type**
   - 确定焦点位置和景深
   - 设计焦点变化(如有)
   - 匹配叙事重点
   - 描述虚化效果

6. **提供备选方案**
   - 至少提供2-3个备选 composition
   - 说明每个方案的效果和适用场景
   - 给出选择建议

## 质量检查清单

优化完成后检查:

- [ ] camera_position 描述具体明确(包含位置、角度、距离)
- [ ] camera_movement 与情感节奏匹配(速度、方式、轨迹)
- [ ] framing 主体位置清晰,构图原则明确
- [ ] focus_type 焦点和景深控制清晰
- [ ] 运镜与 editing.pacing 一致
- [ ] 运镜与 editing.purpose 匹配
- [ ] 提供了至少2个备选方案
- [ ] 优化理由清晰充分
- [ ] 描述具体可执行,不含模糊词汇
- [ ] 考虑了前后镜头连贯性

## 优化技巧

**增强画面冲击力:**
- 添加具体参数(角度、距离、时长)
- 描述运动轨迹和节奏变化
- 结合光影效果优化构图
- 利用景深变化引导注意力

**提升情感表达:**
- 运动速度匹配情感强度
- 拍摄角度体现人物地位
- 构图留白营造情感空间
- 焦点转移突出叙事重点

**保持镜头连贯:**
- 考虑与前后镜头的匹配
- 遵循180度规则(对话场景)
- 保持视线方向一致
- 运动方向逻辑合理

**提高可实现性:**
- 避免过于复杂的复合运动
- 考虑拍摄场地限制
- 评估特效制作难度
- 平衡效果与成本

## 重要提示

1. **具体优于抽象**: 用"从45度角俯视,距离1.5米"代替"俯视"
2. **参数化描述**: 添加时长、角度、距离等具体参数
3. **情感优先**: 运镜服务于情感表达,不只是技术展示
4. **节奏匹配**: 运动速度必须与 editing.pacing 一致
5. **多备方案**: 至少提供2-3个不同风格的备选方案

## 示例优化

**原始输入:**
```json
{
  "shot_id": "EP01-S001",
  "shot_type": "特写",
  "editing": {
    "purpose": "建立开场场景,展现主角困惑",
    "pacing": "舒缓"
  },
  "composition": {
    "camera_position": "床榻正上方,俯视",
    "camera_movement": "缓慢拉远",
    "framing": "中心构图",
    "focus_type": "主体清晰,周围环境逐渐入画"
  }
}
```

**优化输出:**
```json
{
  "optimized_composition": {
    "camera_position": "床榻正上方垂直俯拍,初始距离面部80cm,高度距床面1.2米",
    "camera_movement": "缓慢向后拉远同时镜头上升10度,从面部特写拉至半身中景,用时8秒,运动速度均匀缓慢",
    "framing": "中心构图,人物从占据画面75%逐渐缩小至45%,利用窗户光线在人物周围形成自然柔光边,四周暗角逐渐消失",
    "focus_type": "初始浅景深(f/2.8)聚焦面部,背景虚化;随着拉远景深逐渐加深至f/5.6,环境细节(窗外云雾、木屋陈设)逐渐清晰"
  },
  "optimization_analysis": {
    "emotion_tone": "困惑、陌生、逐渐清醒",
    "narrative_focus": "从人物主观感受到环境认知的过渡",
    "why_this_works": "俯视+拉远体现从迷茫到逐渐认知的过程;焦点转移从内在感受到外部世界;8秒舒缓节奏配合'舒缓'pacing"
  },
  "enhancement_tips": [
    "可添加轻微镜头晃动(±2度)模拟刚醒时的不稳定感",
    "利用窗外晨光在人物面部形成逐渐明亮的过渡"
  ],
  "alternative_options": [
    {
      "name": "主观视角方案",
      "composition": {
        "camera_position": "人物眼部高度主观视角,模拟睁眼视角",
        "camera_movement": "从完全模糊逐渐变清晰,用时4秒,镜头轻微晃动模拟苏醒感",
        "framing": "中心构图,从模糊光影逐渐清晰为天花板木纹,然后缓慢下摇至窗外景色",
        "focus_type": "从完全模糊(rack focus)逐渐清晰至锐利,焦点从天花板转移至窗外云雾"
      },
      "effect": "更强的代入感和沉浸感",
      "when_to_use": "需要强调主角主观体验和陌生感"
    },
    {
      "name": "侧方低角度方案",
      "composition": {
        "camera_position": "床榻侧面,镜头高度与床面齐平,距离人物1.5米",
        "camera_movement": "缓慢向前推近同时上升,从低角度推至平视,用时6秒",
        "framing": "三分法构图,人物位于画面左侧三分之一,右侧留白给窗户和云雾",
        "focus_type": "初始聚焦人物轮廓剪影,随着推近逐渐看清面部表情和窗外景色"
      },
      "effect": "更抒情和诗意,强调人物与环境的对比",
      "when_to_use": "需要强调孤独感和环境氛围"
    }
  ]
}
```

---

**记住:** composition 字段是分镜的技术核心,好的 composition 应该具体、可执行、情感准确。每个参数都应该有明确的叙事目的。
